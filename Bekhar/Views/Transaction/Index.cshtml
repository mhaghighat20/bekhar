@using Bekhar.Models;
@model IEnumerable<Bekhar.Models.Transaction>

@{
    Page.Title = "لیست تراکنش ها";
    ViewBag.Title = Page.Title;
}


<div class="container">
    <div class="card mt-3 w-75 mx-auto">
        <div class="card-header d-flex">
            <h5 class="text-center align-middle mt-2">
                تراکنش های کاربر
            </h5>
            <span class="btn-outline-info my-0 ml-auto p-2" style="cursor:default;">
                موجودی فعلی : @ViewBag.Money تومان
            </span>
            <a class="btn btn-success ml-2 my-0" href="/Transaction/Create">
                افزایش <i class="fas fa-plus align-middle ml-1" style="font-size:1rem"></i>
            </a>
        </div>

        
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th class="col-1 text-center font-weight-bold">
                        #
                    </th>
                    <th class="col-6 font-weight-bold">
                        @Html.DisplayNameFor(model => model.Amount)
                    </th>
                    <th class="col-3 font-weight-bold">
                        @Html.DisplayNameFor(model => model.CreationTime)
                    </th>
                    <th class="col-2 font-weight-bold">
                        اطلاعات
                    </th>
                </tr>
            </thead>
            <tbody>
                @{var i = 1;}
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="text-center p-2 align-middle">
                            @i
                        </td>
                        <td class="p-2 align-middle">
                            @if (item.Amount < 0)
                            {
                                <span class="text-danger">@item.Amount تومان</span>
                            }
                            else
                            {
                                <span class="text-success">@item.Amount تومان</span>
                            }
                        </td>
                        <td class="p-2 align-middle">
                            @item.CreationTime.GetPersianStr()
                        </td>
                        <td class="p-2 align-middle">
                            <a href="#" class="btn btn-primary m-0 py-2 px-3">
                                <i class="fas fa-search"></i>
                            </a>
                        </td>
                    </tr>
                    {
                        i++;
                    }
                }
            </tbody>
        </table>
    </div>
</div>
