
@{
    Page.Title = "صفحه اصلی";
}

<div class="wrapper">
    <!-- Sidebar Starts here -->
    <nav class="bk-sidebar pb-3">
        <div class="bk-sidebar-header">
            <h5>دسته بندی کالاها</h5>
        </div>

        <ul class="list-group components">
            @{ 
                var categories = Bekhar.Models.Utility.GetAllCategories();
            }
            @foreach(Bekhar.Models.Category category in categories)
            {
                <li class="list-group-item sidebar-item">
                    @if (@Request.QueryString["cat"] == @category.Id.ToString())
                    {
                        <a href="/?cat=@category.Id" selected="true">
                            <span class="sidebar-item-text"> @category.Name </span>
                        </a>
                    }
                    else
                    {
                        <a href="/?cat=@category.Id">
                            <span class="sidebar-item-text"> @category.Name </span>
                        </a>
                    }
                </li>
                
            }
            <!--
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> ماشین </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> ماشین </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> لوازم آشپزخانه </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> لوازم التحریر </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> کفش </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> پوشاک </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> یراق آلات </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> پارچه </span>
            </li>
            <li class="list-group-item sidebar-item">
                <span class="sidebar-item-text"> کتاب </span>
            </li>
                -->
        </ul>
    </nav>

    <div class="container-fluid pt-4 px-4 yekan">
        <form method="post" action="~/Home/Index" id="search-form">
            <div class="jumbotron mx-2" style="">
                <div class="row">
                    <div class="col">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="عنوان کالای مورد نظر را وارد کنید" name="keyword" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">قیمت از</span>
                            </div>
                            <input type="text" class="form-control" name="PriceMin" />
                            <div class="input-group-postpond">
                                <span class="input-group-text">تا</span>
                            </div>
                            <input type="text" class="form-control" name="PriceMax" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="input-group">
                            <select class="browser-default custom-select" id="city" name="City">
                                <option value="" selected disabled>شهر خود را انتخاب کنید</option>
                                @{
                                    var cities = Bekhar.Models.Utility.GetAllCities();
                                }
                                @foreach (var city in cities)
                                {
                                    <option value="@city">@city</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="input-group">
                            <input type="text" id="zone" name="Location" class="form-control" placeholder="نام محله خود را وارد کنید" />
                        </div>
                    </div>
                    <div class="col">
                        <button class="input-group-text deep-orange white-text px-4" onclick="document.getElementById('search-form').submit();" style="display:block;"><i class="fa fa-search"></i></button>
                    </div>
                </div>

            </div>
        </form>
        <div class="card-deck">
            @foreach (var kala in Model)
            {
                <div class="card my-3">
                    <div class="view">
                        <img src="https://via.placeholder.com/250" class="card-img-top" alt="" style="height:250px;">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">@kala.Name</h4>
                        <p class="card-text">@kala.Description</p>
                    </div>
                    <div class="card-footer p-1 d-flex" style="background:white;">
                        <div class="mr-auto my-auto pl-3 deep-orange-text">@kala.Price <span class="font-weight-bold">تومان</span></div>
                        <a class="btn btn-deep-orange font-weight-bold" href="~/Kala/Details/@kala.Id">خرید</a>
                    </div>
                </div>
                }       
        </div>
    </div>
</div>